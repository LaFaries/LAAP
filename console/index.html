<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LAAP Dashboard | LaFaries Mortimer LLC</title>

<style>
:root{
  --cream:#fffaf0;
  --cream-soft:#f6ecd8;
  --midnight:#0b1020;
  --gold:#f6c453;
  --gold-deep:#c89222;
  --ink:#0a0e1a;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:linear-gradient(180deg,var(--cream),var(--cream-soft));
  color:var(--ink);
  min-height:100vh;
}

header{
  padding:18px 24px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:1px solid rgba(11,16,32,.12);
  background:rgba(255,250,240,.9);
}

.brand{
  display:flex;
  align-items:center;
  gap:12px;
  font-weight:900;
}

.brandMark{
  width:42px;height:42px;
  border-radius:12px;
  background:linear-gradient(135deg,var(--gold),var(--gold-deep));
  display:flex;align-items:center;justify-content:center;
}

.wrap{
  max-width:1100px;
  margin:0 auto;
  padding:40px 20px 80px;
}

.notice{
  background:#fff;
  border:1px solid rgba(11,16,32,.15);
  border-radius:14px;
  padding:16px 18px;
  margin-bottom:26px;
  font-size:14px;
}

.notice strong{color:var(--midnight)}

.card{
  background:#fff;
  border-radius:20px;
  padding:32px;
  box-shadow:0 18px 50px rgba(0,0,0,.15);
}

.actions{
  margin-top:28px;
  display:flex;
  gap:14px;
  flex-wrap:wrap;
}

.btn{
  border:none;
  border-radius:999px;
  padding:14px 22px;
  font-weight:900;
  cursor:pointer;
  background:linear-gradient(135deg,var(--gold),var(--gold-deep));
  color:var(--midnight);
  text-decoration:none;
}

.btn.secondary{
  background:#eee;
}

.btn.locked{
  opacity:.45;
  cursor:not-allowed;
}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(11,16,32,.55);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}

.modalBox{
  background:#fff;
  max-width:420px;
  width:92%;
  border-radius:20px;
  padding:26px;
  text-align:center;
}

.modalBox h3{margin-top:0}
.modalActions{
  margin-top:22px;
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
}
</style>
</head>

<body>

<header>
  <div class="brand">
    <div class="brandMark">LM</div>
    <div>LAAP Dashboard</div>
  </div>
  <div>Tier: <strong id="tierLabel">Free</strong></div>
</header>

<main class="wrap">

  <div id="tierNotice" class="notice"></div>

  <div class="card">
    <h2>Console Access</h2>
    <p>
      This dashboard routes you to the correct LAAP tools based on your tier.
      Your full Console remains available at all times.
    </p>

    <div class="actions">

  <!-- PRIMARY: REAL CONSOLE -->
  <a href="https://laap-console.netlify.app"
     class="btn btn-primary">
     Enter LAAP Console
  </a>

  <!-- SECONDARY: BUILDER (GATED / LATER STEP) -->
  <button id="launchBuilder"
          class="btn btn-outline">
          Launch LAAP Builder
  </button>

  <!-- TERTIARY -->
  <a href="https://lafariesmortimerllc.com"
     class="btn secondary"
     target="_blank">
     Visit Main Website
  </a>

</div>

    </div>
  </div>

</main>

<!-- PAYMENT MODAL -->
<div id="payModal" class="modal">
  <div class="modalBox">
    <h3>Builder Access Required</h3>
    <p>
      The LAAP Builder is a <strong>paid feature</strong>.
      Upgrade to continue.
    </p>
    <div class="modalActions">
      <a href="/welcome/index.html" class="btn">Upgrade Tier</a>
      <button class="btn secondary" id="closeModal">Not Now</button>
    </div>
  </div>
</div>

<script>
const KEY_TIER = "laap_tier";
const BUILDER_URL = "/builder/index.html";

const tier = localStorage.getItem(KEY_TIER) || "free";

document.getElementById("tierLabel").textContent =
  tier === "full" ? "Full LAAP" :
  tier === "setup" ? "Setup" : "Free";

const notice = document.getElementById("tierNotice");
const builderBtn = document.getElementById("launchBuilder");
const modal = document.getElementById("payModal");

if(tier === "free"){
  notice.innerHTML =
    "<strong>Free Tier:</strong> You may explore the Console. Builder access requires a paid tier.";
  builderBtn.onclick = () => modal.style.display = "flex";
}

if(tier === "setup"){
  notice.innerHTML =
    "<strong>Setup Tier:</strong> Builder available after payment confirmation.";
  builderBtn.onclick = () => modal.style.display = "flex";
}

if(tier === "full"){
  notice.innerHTML =
    "<strong>Full LAAP Active:</strong> All modules unlocked.";
  builderBtn.onclick = () => window.location.href = BUILDER_URL;
}

document.getElementById("closeModal").onclick =
  () => modal.style.display = "none";
</script>

</body>
</html>
